[
  {
    "objectID": "posts/mumbai-slums/index.html",
    "href": "posts/mumbai-slums/index.html",
    "title": "Getting GIS data of Mumbai slums",
    "section": "",
    "text": "According the 2011 census, around 42% of the population resides in slums [1]. Given the rapid rates of growth in a megacity like Mumbai, it’s likely that both the extent and the population of slum residents has only increased in the last decade. While the source of the GIS data is also several years old (circa 2015) [2], we can use it to understand the more about slums in the city. I have a long list of questions for quantitative understanding how slums are part of the urban fabric:\n\nSlum concentrations around the city?\nHow large are individual slums?\nHow big are slum clusters?\nWhat type of urban typologies exist between and next to slums?\nHow did slums evolve in various parts of the city?\n\nLike many sources of data from India, the original data from the Slum Rehabilitation Authority (SRA) [2] is provided as a pdf map and a separate set of attributes also in pdf - putting yet another item on my growing list of required R geospatial skills for urban analytics - digitising pdf maps to digital shapefiles. However, I can defer this lesson for a little longer thanks to Opencity [3] who have digitised the map as KML that can be directly read in as an sf object.\nAs a first step, I’m trying to get a sense of the extent of slums across the city. I’ve added key natural areas since Mumbai has several wetland areas and a large national park within the city boundaries. Slums are mostly distributed in Mumbai suburban district of Mumbai with a few exceptions like the well-known slum of Dharavi at the northwestern boundary of Mumbai city district.\nGiven the extensive spread of slums, understanding how they dovetail with middle class and upper class urban typologies will be a key focus of my future analysis. Alongside the quantitative aspects also come the qualitative: how did slums start, how do they continue despite such incredible difficulties of life and what is their future?\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nReferences\n\n\n[1] C. O. of India, “Mumbai (Greater Mumbai) City Population Census 2011-2023 | Maharashtra.” https://www.census2011.co.in/census/city/365-mumbai.html (accessed Feb. 10, 2023).\n\n\n[2] “GIS-MIS Slum Data : Slum Rehabilitation Authority (SRA).” https://sra.gov.in/pagem/innerpage/gis-mis-slum-data-marathi.php (accessed Feb. 06, 2023).\n\n\n[3] “Mumbai - Slum Cluster Map - Collections - OpenCity - Urban Data Portal.” https://data.opencity.in/dataset/mumbai-slum-cluster-map (accessed Feb. 11, 2023).\n\n\n\n\nCredits\n\nPost photo by Alfarnas Solkar on Unsplash"
  },
  {
    "objectID": "posts/mumbai-pop/index.html",
    "href": "posts/mumbai-pop/index.html",
    "title": "Population distribution in Mumbai",
    "section": "",
    "text": "Mumbai is a city of incredible heterogeneity and diversity. One of the many indicators of this aspect is how and where people live. My attempts to find spatially resolved population data for Mumbai led me to WorldPop [1] which provides population counts at a 100m\\(^2\\) spatial resolution. While the WorldPop estimates use clever statistical models for generating spatial distribution of population, the total for Mumbai comes to 13.38 million people as at 2020 [2]. This value is 25% lower than the recent 2023 population estimate of 17.2 million from the Indian government [3]. It is likely that the mismatch results from the Indian population being generated from a generic top-down model that covers the world while the Indian government has projected population using past trends in growth rates specific to the area.\nDespite low confidence in its accuracy, the WorldPop dataset was a good opportunity to learn how to wrangle raster data and to combine it with vector data. The population data from WorldPop covers the entire country so cropping to the Mumbai boundaries (full and by the two main districts) was required before any plotting or analysis. After some initial confusion over which package to use, I found that the R package stars [4] is a very convenient way to read raster data into R and the geom_stars geom allows for easy plotting with ggplot2. Usefully, st_crop also works out of the box when combining polygon sf objects with a stars object.\nSeparating the population counts for the two districts of Mumbai, draws attention apparent homogeneity of Mumbai city. This corresponds well to the more business-centric landuse of Mumbai city especially at the southern tip of Colaba. The northern and eastern areas of Mumbai suburban are significantly more populated than the city district, and are spatially congruous with extensive slum settlements though the population estimates smear out the higher density of slums beyond the expected slum limits.\n\n\n\n\n\n\nReferences\n\n\n[1] M. Bondarenko, D. Kerr, A. Sorichetta, and A. Tatem, “Census/projection-disaggregated gridded population datasets, adjusted to match the corresponding UNPD 2020 estimates, for 183 countries in 2020 using Built-Settlement Growth Model (BSGM) outputs.” University of Southampton, 2020. doi: 10.5258/SOTON/WP00685.\n\n\n[2] “The spatial distribution of population in 2020 with country total adjusted to match the corresponding UNPD estimate, india,” 2020. https://hub.worldpop.org/geodata/summary?id=49992\n\n\n[3] C. O. of India, “Mumbai (Greater Mumbai) City Population Census 2011-2023 | Maharashtra.” https://www.census2011.co.in/census/city/365-mumbai.html (accessed Feb. 10, 2023).\n\n\n[4] “Spatiotemporal Arrays, Raster and Vector Data Cubes.” https://r-spatial.github.io/stars/ (accessed Feb. 11, 2023).\n\n\n\n\nCredits\nPost photo by Harsh Kondekar on Unsplash"
  },
  {
    "objectID": "posts/osm-mumbai/index.html",
    "href": "posts/osm-mumbai/index.html",
    "title": "Building footprints for Mumbai",
    "section": "",
    "text": "I rely heavily on Openstreetmap (OSM) for my geospatial analyses as I mainly work with urban vector data of buildings and streets. However, OSM is not always reliable - with particularly large issues for developing country cities like Mumbai. From my recent investigations, OSM seems especially bad for building footprints in areas with informal settlements or changes within the last few years. To learn more, I’ve compared OSM with a recent dataset called GlobalML from Microsoft [1]. Instructions on downloading data from Global ML can be found in another blog post.\n\n\n\nI first started with comparing OSM and Google maps streetviews centered around the area I grew up in (Sector 2, Vashi). I could quickly see that many buildings were missing in the footprints data. Global ML corroborates this especially for areas with many small building footprints - likely informal settlements.\n\n\n\n\n\n\n\n\nThe situation is worse for known vast informal settlement areas like Shivaji Nagar in Eastern Mumbai suburban district. Here, OSM has not captured any building footprints but the whole area is densely built up! What’s even more fascinating is that this area has been built up for quite some time [2]. It would seem that OSM built environment polygons are not regularly maintained for Mumbai?\n\n\n\n\n\n\n\n\n\nReferences\n\n\n[1] Microsoft/GlobalMLBuildingFootprints. Microsoft, 2023. Accessed: Feb. 06, 2023. [Online]. Available: https://github.com/microsoft/GlobalMLBuildingFootprints\n\n\n[2] “Shivaji Nagar: Homegrown Neighbourhood | urbz,” Sep. 01, 2012. https://urbz.net/articles/shivaji-nagar-homegrown-neighbourhood (accessed Feb. 12, 2023)."
  },
  {
    "objectID": "posts/global-ml/index.html",
    "href": "posts/global-ml/index.html",
    "title": "Building footprints from Global ML",
    "section": "",
    "text": "I’ve recently learned of the GlobalML dataset from Microsoft [1]. However, the organisation of the data was hard to follow as only a handful of countries have specific data releases. The rest of the world, including India, needed could only be downloaded based on the quadkey for the required map tile.\nThe challenge I faced was figuring out which quadkey tile contained the latitude and longitudes I was interested in. Luckily, I found a very useful snippet [2] that makes use of the pyquadkey2 python package.\n\npython3 -m pip install pyquadkey2\npython3\n\n\nfrom pyquadkey2 import quadkey\n\ndef geo_to_qk(latitude, longitude, zoom_level):\n    \"\"\"Convert latitude and longitude to quadkey at specified\n    integer  zoom level, returning quadkey as a string\n    \"\"\"\n    qk = str(quadkey.from_geo((latitude, longitude), zoom_level))\n    return qk\n\n# To get a 9 digit quadkey, the zoom level is 9\ngeo_to_qk(19.07403, 72.99571, 9)\n\n\n\n\n\n\n\nThe GlobalML data tiles are based on zoom level 9 so once I had the requisite quadkey (123300311), I just had to look up the file containing it in the data links csv, to get the following link: https://minedbuildings.blob.core.windows.net/global-buildings/2022-11-15/global-buildings.geojsonl/RegionName%3DIndia/quadkey%3D123300311/part-00055-2cb4a5ad-6652-48b0-a336-f09518f4c9e5.c000.csv.gz\nFor some unknown reason, the geojson file is saved as csv. So, once the csv.gz is downloaded and extracted, the file needs to be renamed from .csv to .geojson before being read into R with sf::st_read(). A quick visualisation shows that the tile gets footprints for Mumbai suburban district and the wider metropolitan region to the east. A different tile will be required for the Mumbai city district.\n\n\n\n\n\n\n\n\n\nReferences\n\n[1] Microsoft/GlobalMLBuildingFootprints. Microsoft, 2023. Accessed: Feb. 06, 2023. [Online]. Available: https://github.com/microsoft/GlobalMLBuildingFootprints\n\n\n[2] “How to Convert Latitude and Longitude to Quadkey for Easy Joins – Iggy Blog.” https://www.askiggy.com/blog/how-to-convert-latitude-and-longitude-to-quadkey-for-easy-joins (accessed Feb. 06, 2023)."
  },
  {
    "objectID": "posts/osmplotr/index.html",
    "href": "posts/osmplotr/index.html",
    "title": "Schematic maps of urban form",
    "section": "",
    "text": "I became interested in the qualitative and quantitative analysis of urban form over a year ago. However, learning a useful set of foundational skills was elusive for some time as I didn’t know where to start. A chance watch of Bimal Patel’s slides and narrative of urban form in Indian cities [1] fired up my imagination and set out a simple path to pick up new skills. Architects like Bimal Patel dominate the vast literature of urban form and their classic set of explanatory images are 200m - 500m square schematics of building footprints, plots and street networks.\n\n\n\nAn example of comparative urban form schematics from [2].\n\n\nHowever, there was no tutorial (that I could find) or even examples for creating these in R making it a great learning project. After some googling around for existing code or packages that would help me build the required schematics in a systematic way, I landed on the following franken-hack:\n\nSpecifying a bounding box with consistent extent based on a user specification. The code for this functionality was taken from spacey [3]. The functions get_centroid_bounding_box(), extract_coords(), rad_to_deg() and deg_to_rad() are needed. I keep them in a local R script since I don’t need the other functionality of spacey.\nUsing osmplotr [4] to pull specific spatial elements like parks, building networks and street works and print a visually consistent map. The handy make_osm_map() function both gets the data and outputs the map as a ggplot object. Colours can be set for the different structures in the map.\nUsing patchwork [5] to put together multiple ggplot2 objects for side by side comparison.\n\n\n# custom osmplotr function\nreturn_osmplotr_map <- function(bbox, map_title){\n  # get data\n  structs <- c (\"highway\", \"building\", \"park\", \"landuse\")\n  structures <- osm_structures (structures = structs, col_scheme = \"dark\")\n  structures$value [4] <- \"recreation_ground\"\n  structures$cols[4] <- \"#647864FF\"\n  \n  # make map\n  osmplotr_map <- make_osm_map(structures = structures, bbox = bbox)\n  plot <- osmplotr_map$map  + labs(title = map_title)\n  return(plot)\n}\n\n# bounding boxes and extend with spacey function\npc_bbox <- get_centroid_bounding_box(\n  c(\"lat\" = 19.01879, \"lng\" = 72.85141),\n  distance = 500,\n  dist.unit = \"m\") %>% \n  get_bbox()\n\nbe_bbox <- get_centroid_bounding_box(\n  c(\"lat\" = 18.93566, \"lng\" = 72.8401),\n  distance = 500,\n  dist.unit = \"m\") %>% \n  get_bbox()\n\n# return individual plot objects\np1 <- return_osmplotr_map(pc_bbox, \"Parsi Colony, Dadar (Mumbai City)\")\np2 <- return_osmplotr_map(be_bbox, \"Ballard Estate, Fort (Mumbai City)\")\n\n# Compose plot\n(p1 + theme(plot.margin = unit(c(0,5,0,0), \"pt\"))) + (p2) \n\n\n\n\n\n\n\nReferences\n\n\n[1] “Alain Bertaud, Bimal Patel, Vidyadhar Phatak on Improving Indian Urban Planning - YouTube.” https://www.youtube.com/watch?v=A0_qAk_obLE (accessed Aug. 06, 2022).\n\n\n[2] “What is urban fabric? – rethink urban,” Jun. 26, 2012. http://rethinkurban.com/2012/places-and-spaces/understanding-urban-forms/ (accessed Feb. 11, 2023).\n\n\n[3] “Spacey: Easily Obtain Spatial Data and Make Better Maps version 0.1.1 from CRAN.” https://rdrr.io/cran/spacey/ (accessed Feb. 11, 2023).\n\n\n[4] Ropensci/osmplotr. rOpenSci, 2022. Accessed: Aug. 11, 2022. [Online]. Available: https://github.com/ropensci/osmplotr\n\n\n[5] “The Composer of Plots.” https://patchwork.data-imaginist.com/ (accessed Feb. 11, 2023).\n\n\n\n\nCredits\n\nPost photo from https://www.architecturaldigest.in/story/dadar-parsi-colony-cherishing-the-bombay-that-was-mumbai-history-pictures/"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "e-flaneur",
    "section": "",
    "text": "Getting GIS data of Mumbai slums\n\n\n\n\n\n\n\ndata science\n\n\nurban\n\n\nindia\n\n\nmumbai\n\n\n\n\n\n\n\n\n\n\n\nFeb 1, 2023\n\n\nShrividya Ravi\n\n\n\n\n\n\n  \n\n\n\n\nBuilding footprints for Mumbai\n\n\n\n\n\n\n\ndata science\n\n\nurban\n\n\nindia\n\n\nmumbai\n\n\nbuildings\n\n\n\n\n\n\n\n\n\n\n\nFeb 1, 2023\n\n\nShrividya Ravi\n\n\n\n\n\n\n  \n\n\n\n\nBuilding footprints from Global ML\n\n\n\n\n\n\n\ndata science\n\n\nurban\n\n\nindia\n\n\nmumbai\n\n\nbuildings\n\n\n\n\n\n\n\n\n\n\n\nFeb 1, 2023\n\n\nShrividya Ravi\n\n\n\n\n\n\n  \n\n\n\n\nSchematic maps of urban form\n\n\n\n\n\n\n\ndata science\n\n\nurban\n\n\nindia\n\n\nmumbai\n\n\nR\n\n\n\n\n\n\n\n\n\n\n\nNov 1, 2022\n\n\nShrividya Ravi\n\n\n\n\n\n\n  \n\n\n\n\nPopulation distribution in Mumbai\n\n\n\n\n\n\n\ndata science\n\n\nurban\n\n\nindia\n\n\nmumbai\n\n\n\n\n\n\n\n\n\n\n\nAug 1, 2022\n\n\nShrividya Ravi\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "e-flaneur",
    "section": "",
    "text": "References"
  }
]