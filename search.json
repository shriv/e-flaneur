[
  {
    "objectID": "posts/osm_mumbai/index.html",
    "href": "posts/osm_mumbai/index.html",
    "title": "OSM issues in Mumbai",
    "section": "",
    "text": "# load the Global ML footprints for approx Mumbai suburban and metropolitan region bbox\nglobal_ml <- sf::st_read(\"~/Documents/global-ml-footprints/part-00055-2cb4a5ad-6652-48b0-a336-f09518f4c9e5.c000.geojson\")\n\n# need this for the bbox cropping to work\nsf_use_s2(FALSE)\n\n\nbbox <- get_centroid_bounding_box(\n  c(\"lat\" = 19.07403, \"lng\" = 72.99571),\n  distance = 500,\n  dist.unit = \"m\") %>% \n  get_bbox()\nstructs <- c (\"highway\", \"building\", \"park\", \"landuse\", \"leisure\")\nstructures <- osm_structures (structures = structs, col_scheme = \"dark\")\nstructures$value [4] <- \"recreation_ground\"\nstructures$cols[4] <- \"#647864FF\"\nstructures$value [5] <- \"sports_centre\"\nstructures$cols[5] <- \"#647864FF\"\n\nnavi_mumbai_s2 <- make_osm_map (structures = structures, bbox = bbox)\np2 <- navi_mumbai_s2$map  + labs(title = \"Sector 2, Vashi (OSM)\")\n\n## Global ML comparison\nstreets <- extract_osm_objects(bbox, key = \"highway\")\nnm_bldgs <- st_crop(global_ml, xmin = bbox[1], ymin = bbox[2], xmax = bbox[3], ymax = bbox[4]) %>% st_cast(\"POLYGON\")\nnm_map <- osm_basemap(bbox = bbox, bg = \"gray20\")\nnm_map <- add_osm_objects(nm_map, obj = nm_bldgs, col = \"#646464FF\") + labs(title = \"Sector 2, Vashi (Global ML buildings)\")\nnm_map <- add_osm_objects(nm_map, streets, col = \"#000000FF\")\n\n\n(p2 + theme(plot.margin = unit(c(0,5,0,0), \"pt\"))) + \n  nm_map\n\n\n\n\n\nbbox <- get_centroid_bounding_box(\n  c(\"lat\" = 19.063637617804797, \"lng\" = 72.92389549177575),\n  distance = 500,\n  dist.unit = \"m\") %>% \n  get_bbox()\nstructs <- c (\"highway\", \"building\", \"park\", \"landuse\", \"leisure\")\nstructures <- osm_structures (structures = structs, col_scheme = \"dark\")\nstructures$value [4] <- \"recreation_ground\"\nstructures$cols[4] <- \"#647864FF\"\nstructures$value [5] <- \"sports_centre\"\nstructures$cols[5] <- \"#647864FF\"\n\nshivaji_nagar <- make_osm_map (structures = structures, bbox = bbox)\np5 <- shivaji_nagar$map  + labs(title = \"Shivaji Nagar (OSM)\")\n\n## Global ML comparison\nstreets <- extract_osm_objects(bbox, key = \"highway\")\nsn_bldgs <- st_crop(global_ml, xmin = bbox[1], ymin = bbox[2], xmax = bbox[3], ymax = bbox[4]) %>% st_cast(\"POLYGON\")\nsn_map <- osm_basemap(bbox = bbox, bg = \"gray20\")\nsn_map <- add_osm_objects(sn_map, obj = sn_bldgs, col = \"#646464FF\")\nsn_map <- add_osm_objects(sn_map, streets, col = \"#000000FF\") + labs(title = \"Shivaji Nagar (Global ML buildings)\")\n\n\n(p5 + theme(plot.margin = unit(c(0,5,0,0), \"pt\"))) + \n  sn_map"
  },
  {
    "objectID": "posts/mumbai_pop/index.html",
    "href": "posts/mumbai_pop/index.html",
    "title": "Population of Mumbai",
    "section": "",
    "text": "My attempts to find spatially resolved population data for Mumbai led me to WorldPop [1] which provides population counts at a 100m\\(^2\\) spatial resolution. While the WorldPop estimates use clever statistical models for generating spatial distribution of population, the total for Mumbai comes to 13.38 million people as at 2020 [2]. This value is 25% lower than the recent 2023 population estimate of 17.2 million from the Indian government [3]. It is likely that the mismatch results from the Indian population being generated from a generic top-down model that covers the world while the Indian government has projected population using past trends in growth rates specific to the area.\nDespite low confidence in its accuracy, the WorldPop dataset was a good opportunity to learn how to wrangle raster data and to combine it with vector data. The population data from WorldPop covers the entire country so cropping to the Mumbai boundaries (full and by the two main districts) was required before any plotting or analysis. After some initial confusion over which package to use, I found that the R package stars [4] is a very convenient way to read raster data into R and the geom_stars geom allows for easy plotting with ggplot2. Usefully, st_crop also works out of the box when combining polygon sf objects with a stars object.\nSeparating the population counts for the two districts of Mumbai, draws attention apparent homogeneity of Mumbai city. This corresponds well to the more business-centric landuse of Mumbai city especially at the southern tip of Colaba. The northern and eastern areas of Mumbai suburban are significantly more populated than the city district, and are spatially congruous with extensive slum settlements though the population estimates smear out the higher density of slums beyond the expected slum limits.\n\n\n\n\n\n\nReferences\n\n\n[1] M. Bondarenko, D. Kerr, A. Sorichetta, and A. Tatem, “Census/projection-disaggregated gridded population datasets, adjusted to match the corresponding UNPD 2020 estimates, for 183 countries in 2020 using Built-Settlement Growth Model (BSGM) outputs.” University of Southampton, 2020. doi: 10.5258/SOTON/WP00685.\n\n\n[2] “The spatial distribution of population in 2020 with country total adjusted to match the corresponding UNPD estimate, india,” 2020. https://hub.worldpop.org/geodata/summary?id=49992\n\n\n[3] C. O. of India, “Mumbai (Greater Mumbai) City Population Census 2011-2023 | Maharashtra.” https://www.census2011.co.in/census/city/365-mumbai.html (accessed Feb. 10, 2023).\n\n\n[4] “Spatiotemporal Arrays, Raster and Vector Data Cubes.” https://r-spatial.github.io/stars/ (accessed Feb. 11, 2023).\n\n\n\n\nCredits\nPost photo by Harsh Kondekar on Unsplash"
  },
  {
    "objectID": "posts/mumbai_slums/index.html",
    "href": "posts/mumbai_slums/index.html",
    "title": "Getting GIS data of Mumbai slums",
    "section": "",
    "text": "According the 2011 census, around 42% of the population resides in slums [1]. Given the rapid rates of growth in a megacity like Mumbai, it’s likely that both the extent and the population of slum residents has only increased in the last decade. While the source of the GIS data is also several years old (circa 2015) [2], we can use it to understand the extent of slums in the city.\nLike many sources of data from India, the original data from the Slum Rehabiliation Authority (SRA) [2] is provided as a pdf map - putting yet another item on my growing list of required R geospatial skills for urban analytics - digitising pdf maps to digital shapefiles. However, I can defer this lesson for a little longer thanks to Opencity [3] who have digitised this file as KML that can be directly read in as an sf object.\nI have a long list of questions for understanding how slums are part of the urban fabric:\n\nSlum concentrations around the city?\nHow large are individual slums?\nHow big are slum clusters?\nWhat type of urban typologies exist between and next to slums?\nHow did slums evolve in various parts of the city?\n\nAs a first step, I’m starting with the simplest question: extent of slums across the city.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nReferences\n\n\n[1] C. O. of India, “Mumbai (Greater Mumbai) City Population Census 2011-2023 | Maharashtra.” https://www.census2011.co.in/census/city/365-mumbai.html (accessed Feb. 10, 2023).\n\n\n[2] “GIS-MIS Slum Data : Slum Rehabilitation Authority (SRA).” https://sra.gov.in/pagem/innerpage/gis-mis-slum-data-marathi.php (accessed Feb. 06, 2023).\n\n\n[3] “Mumbai - Slum Cluster Map - Collections - OpenCity - Urban Data Portal.” https://data.opencity.in/dataset/mumbai-slum-cluster-map (accessed Feb. 11, 2023).\n\n\n\n\nCredits\n\nPost photo by Alfarnas Solkar on Unsplash"
  },
  {
    "objectID": "posts/osmplotr/index.html",
    "href": "posts/osmplotr/index.html",
    "title": "Schematic maps of urban form in R",
    "section": "",
    "text": "I became interested in the qualitative and quantitative analysis of urban form over a year ago. However, learning a useful set of foundational skills was elusive for some time as I didn’t know where to start. A chance watch of Bimal Patel’s slides and narrative of urban form in Indian cities [1] fired up my imagination and set out a simple path to pick up new skills. Architects like Bimal Patel dominate the vast literature of urban form and their classic set of explanatory images are 200m - 500m square schematics of building footprints, plots and street networks.\n\n\n\nAn example of comparative urban form schematics from [2].\n\n\nHowever, there was no tutorial (that I could find) or even examples for creating these in R making it a great learning project. After some googling around for existing code or packages that would help me build the required schematics in a systematic way, I landed on the following franken-hack:\n\nSpecifying a bounding box with consistent extent based on a user specification. This code was taken from spacey [3] instead of writing equivalent code myself. The functions get_centroid_bounding_box(), extract_coords(), rad_to_deg() and deg_to_rad() are needed.\nUsing osmplotr [4] to pull specific spatial elements like parks, building networks and street works and print a visually consistent map. The handy make_osm_map() function both gets the data and prints the map according to the set colour scheme for the different elements.\nUsing patchwork [5] to put together multiple schematics for side by side comparison.\n\n\n# custom osmplotr function\nreturn_osmplotr_map <- function(bbox, map_title){\n  # get data\n  structs <- c (\"highway\", \"building\", \"park\", \"landuse\")\n  structures <- osm_structures (structures = structs, col_scheme = \"dark\")\n  structures$value [4] <- \"recreation_ground\"\n  structures$cols[4] <- \"#647864FF\"\n  \n  # make map\n  osmplotr_map <- make_osm_map(structures = structures, bbox = bbox)\n  plot <- osmplotr_map$map  + labs(title = map_title)\n  return(plot)\n}\n\n# bounding boxes and extend with spacey function\npc_bbox <- get_centroid_bounding_box(\n  c(\"lat\" = 19.01879, \"lng\" = 72.85141),\n  distance = 500,\n  dist.unit = \"m\") %>% \n  get_bbox()\n\nbe_bbox <- get_centroid_bounding_box(\n  c(\"lat\" = 18.93566, \"lng\" = 72.8401),\n  distance = 500,\n  dist.unit = \"m\") %>% \n  get_bbox()\n\n# return individual plot objects\np1 <- return_osmplotr_map(pc_bbox, \"Parsi Colony, Dadar (Mumbai City)\")\np2 <- return_osmplotr_map(be_bbox, \"Ballard Estate, Fort (Mumbai City)\")\n\n# Compose plot\n(p1 + theme(plot.margin = unit(c(0,5,0,0), \"pt\"))) + (p2) \n\n\n\n\n\n\n\nReferences\n\n\n[1] “Alain Bertaud, Bimal Patel, Vidyadhar Phatak on Improving Indian Urban Planning - YouTube.” https://www.youtube.com/watch?v=A0_qAk_obLE (accessed Aug. 06, 2022).\n\n\n[2] “What is urban fabric? – rethink urban,” Jun. 26, 2012. http://rethinkurban.com/2012/places-and-spaces/understanding-urban-forms/ (accessed Feb. 11, 2023).\n\n\n[3] “Spacey: Easily Obtain Spatial Data and Make Better Maps version 0.1.1 from CRAN.” https://rdrr.io/cran/spacey/ (accessed Feb. 11, 2023).\n\n\n[4] Ropensci/osmplotr. rOpenSci, 2022. Accessed: Aug. 11, 2022. [Online]. Available: https://github.com/ropensci/osmplotr\n\n\n[5] “The Composer of Plots.” https://patchwork.data-imaginist.com/ (accessed Feb. 11, 2023).\n\n\n\n\nCredits\n\nPost photo from https://www.architecturaldigest.in/story/dadar-parsi-colony-cherishing-the-bombay-that-was-mumbai-history-pictures/"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "e-flaneur",
    "section": "",
    "text": "Getting GIS data of Mumbai slums\n\n\n\n\n\n\n\ndata science\n\n\nurban\n\n\nindia\n\n\nmumbai\n\n\n\n\n\n\n\n\n\n\n\nFeb 1, 2023\n\n\nShrividya Ravi\n\n\n\n\n\n\n  \n\n\n\n\nSchematic maps of urban form in R\n\n\n\n\n\n\n\ndata science\n\n\nurban\n\n\nindia\n\n\nmumbai\n\n\nR\n\n\n\n\n\n\n\n\n\n\n\nNov 1, 2022\n\n\nShrividya Ravi\n\n\n\n\n\n\n  \n\n\n\n\nOSM issues in Mumbai\n\n\n\n\n\n\n\ndata science\n\n\nurban\n\n\nindia\n\n\nosm\n\n\nmumbai\n\n\n\n\n\n\n\n\n\n\n\nAug 1, 2022\n\n\nShrividya Ravi\n\n\n\n\n\n\n  \n\n\n\n\nPopulation of Mumbai\n\n\n\n\n\n\n\ndata science\n\n\nurban\n\n\nindia\n\n\nmumbai\n\n\n\n\n\n\n\n\n\n\n\nAug 1, 2022\n\n\nShrividya Ravi\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "e-flaneur",
    "section": "",
    "text": "References"
  }
]